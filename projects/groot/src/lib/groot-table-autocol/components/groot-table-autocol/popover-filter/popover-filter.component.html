<div class="popover-content popover-body">
  <ng-container *ngIf="!loadingError; else loadingErrorTemplate">
    <groot-combo
      name="filter-column"
      placeholder="common.filter"
      [showAsListBox]="true"
      [checkboxes]="true"
      [fetchDataIncrementally]="true"
      (requestData)="comboDataRequest($event)"
      [itemsPage]="domainPage"
      [totalNumItems]="totalLength"
      [(ngModel)]="selectedValues"
      [maxItemsAtATime]="COMBO_SIZE"
    ></groot-combo>
  </ng-container>
  <ng-template #loadingErrorTemplate>
    <div class="loading-indicator">
      <i class="fa fa-exclamation-triangle text-danger"></i>
      {{'common.cannotLoadFilters' | translate}}
    </div>
  </ng-template>

  <!-- Buttons -->
  <div class="d-flex justify-content-between">
    <div class="buttons-list-bottom-left">
      <groot-button
        classes="btn-outline-info"
        icon="fa fa-trash-o"
        label="common.clear"
        (click)="clear()"
      ></groot-button>
    </div>

    <div class="buttons-list-bottom-right">
      <groot-button
        classes="btn-outline-danger"
        icon="fa fa-cross"
        label="common.cancel"
        (click)="close()"
      ></groot-button>

      <groot-button
        classes="btn-success"
        icon="fa fa-filter"
        label="common.apply"
        (click)="apply()"
      ></groot-button>
    </div>
  </div>
</div>
